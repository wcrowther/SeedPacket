@using SeedPacket.Extensions
@using SeedPacket.Examples
@using SeedPacket.Functions
@using SeedPacket.Interfaces
@using MvcExamples.Models

@{  // inline in view for RAD or web pages purposes

    var generator = new MultiGenerator()
    {
        BaseDateTime = DateTime.Today,
        Rules = {
            new Rule(typeof(DateTime), "Create%",     g => g.BaseDateTime.AddHours (g.RowRandom.Next(-30 * 24, 1)), "DateTimeInLastMonth"),
            new Rule(typeof(string), "ItemName",      g => func.NextElement(g, "ProductName"), "ItemName"),
            new Rule(typeof(int), "SelectedProduct",  g => g.RowRandom.Next(0, 11), "Random product id"),
            new Rule(typeof(List<Item>), "",          g => func.NextCacheItems<Item>(g, g.Cache.Items, 10, 10, false), "ItemList")
        }
    };
    generator.Cache.Items = new List<Item>().Seed(1, 10, generator);

    var examples = new List<Example>().Seed(100, 115, generator);
}

<table class="table table table-striped topSpace">
    <thead>
        <tr>
            <th>Id</th>
            <th>Name</th>
            <th>NetWorth</th>
            <th>Investments</th>
            <th>Email</th>
            <th>ExampleGuid</th>
            <th>Created</th>
            <th>Products</th>
        </tr>
    </thead>
    <tbody>
    @foreach (var ex in examples)
    {
        <tr>
            <td>@ex.Id</td>
            <td>@ex.FirstName @ex.LastName</td>
            <td>@(string.Format("{0:C}", ex.NetWorth))</td>
            <td>@(string.Format("{0:C}", ex.Investments ?? 0.00m))</td>
            <td>@ex.Email</td>
            <td>@ex.ExampleGuid</td>
            <td title="@ex.Created">@ex.Created.ToShortDateString()</td>
            <td>
                @Html.DropDownListFor(a => ex.SelectedProduct, new SelectList(ex.Products, "ItemId", "ItemName", ex.SelectedProduct), "-None Selected-")
            </td>
        </tr>
    }
    </tbody>
</table>





